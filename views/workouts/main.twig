{% extends "index.twig" %}
{% block content %}
    {% if visitor %}
        <h1>{{ user.first_name }}'s Workouts</h1>
        <hr>
    {% endif %}

        {% if workouts|length > 0 %}
            {% for workout in workouts %}
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <small>{{ workout.date | date("F jS, Y") }}</small>
                        <h4>
                            {{ workout.title }}
                            <a href="./{{ workout.id }}" type="button" class=" pull-right btn btn-default btn-xs"><span class="glyphicon glyphicon-new-window" aria-hidden="true"></span> View</a>
                        </h4>
                    </div>
                    <div class="panel-body">
                        <p>
                            <strong> {{ workout.type | capitalize }}</strong>, <em>{{ workout.duration }} mins</em>
                        </p>
                    </div>
                    {% if workout.likes or workout.user_comments or visitor %}
                        <div class="panel-footer clearfix">
                            <div class="counts pull-left">
                                {% if workout.likes %}
                                    <div class="like badge">
                                        <span class="glyphicon glyphicon-thumbs-up"></span>
                                        <span class="like-count"> {{ workout.likes }}</span>
                                    </div>
                                {% endif %}
                                {% if workout.user_comments %}
                                    <div class="user-comment badge">
                                        <span class="user-comment glyphicon glyphicon-comment"></span>
                                        <span class="user-comment-count">{{ workout.user_comments }}</span>
                                    </div>
                                {% endif %}
                            </div>
                            {% if visitor %}
                                <div class="like-action pull-right">
                                    <button class="btn btn-default btn-sm">
                                        <span class="glyphicon glyphicon-thumbs-up"></span> Like
                                    </button>
                                </div>
                            {% endif %}
                        </div>
                    {% endif %}
                </div>
                <hr>
            {% endfor %}
        {% else %}
            <div class="jumbotron">
                <h3>You haven't logged any workouts yet!</h3>
                <p>Add a workout to start tracking your progress.</p>
            </div>
        {% endif %}
    {% if not visitor %}
        <a href="./new" class="btn btn-primary btn-lg">Add a workout</a>
    {% endif %}
{% endblock %}